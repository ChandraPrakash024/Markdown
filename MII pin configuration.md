# MII standards

| **Pin Name** | **Direction** | **Description**                                               |
|--------------|---------------|----------------------------------------------------------------|
| **TxD[3:0]** | MAC to PHY     | 4-bit wide transmit data bus carrying data from MAC to PHY.    |
| **Tx_EN**    | MAC to PHY     | Transmit Enable, indicates valid data on the TxD lines.        |
| **TX_CLK**   | PHY to MAC     | Transmit clock signal, 25 MHz for 100 Mbps, 2.5 MHz for 10 Mbps. |
| **RxD[3:0]** | PHY to MAC     | 4-bit wide receive data bus carrying data from PHY to MAC.     |
| **RX_DV**    | PHY to MAC     | Receive Data Valid, indicates valid data on the RxD lines.     |
| **RX_CLK**   | PHY to MAC     | Receive clock signal, 25 MHz for 100 Mbps, 2.5 MHz for 10 Mbps. |
| **CRS**      | PHY to MAC     | Carrier Sense, indicates the presence of carrier signal on the medium (for half-duplex). |
| **COL**      | PHY to MAC     | Collision Detect, indicates a collision has been detected on the medium (for half-duplex). |
| **MDC**      | MAC to PHY     | Management Data Clock, used for the serial management interface (MDIO). |
| **MDIO**     | Bi-directional | Management Data Input/Output, used for the serial management interface to configure the PHY. |
| **RX_ER**    | PHY to MAC     | Receive Error, indicates an error occurred in the received data. |
| **TX_ER**    | MAC to PHY     | Transmit Error, indicates an error condition in the data being transmitted. |
| **Link Status** | PHY to MAC  | (Optional) Indicates whether the link is up or down.           |

### Pin Descriptions:
- **TxD[3:0]**: Transmit data signals sent from the MAC to the PHY for transmission over the network medium.
- **Tx_EN**: Transmit enable signal, asserted when the MAC has valid data to send.
- **TX_CLK**: The clock signal for the transmit data path, provided by the PHY and synchronized with the data rate.
- **RxD[3:0]**: Receive data signals sent from the PHY to the MAC after being decoded from the network medium.
- **RX_DV**: Receive data valid signal, asserted by the PHY when valid data is present on the RxD[3:0] lines.
- **RX_CLK**: The clock signal for the receive data path, provided by the PHY.
- **CRS**: Carrier sense signal, indicates network activity for half-duplex operation.
- **COL**: Collision detection signal, indicates that a collision has occurred on the network in half-duplex mode.
- **MDC & MDIO**: Used for managing and configuring the PHY over a serial management interface.
- **RX_ER**: Receive error signal, asserted by the PHY if an error is detected in the received data.
- **TX_ER**: Transmit error signal, asserted by the MAC when there is an error in the transmission.

Here's a detailed explanation of each pin in the **Media Independent Interface (MII)**, which defines the interface between the **MAC** (Media Access Control) and **PHY** (Physical Layer Transceiver) for 10/100 Mbps Ethernet:

---

### 1. **TxD[3:0] – Transmit Data [3:0]**
- **Direction**: MAC to PHY
- **Description**: 
  - This is a 4-bit bus used to transfer data from the MAC layer to the PHY layer. It represents the data that the MAC is ready to transmit over the network.
  - For **100 Mbps (Fast Ethernet)** operation, data is transferred on this bus at a clock rate of 25 MHz (4 bits per clock cycle), resulting in an effective data transfer rate of 100 Mbps.
  - For **10 Mbps Ethernet**, the clock rate is reduced to 2.5 MHz, and the PHY internally converts the 4-bit data stream into the necessary serial format for transmission.

---

### 2. **Tx_EN – Transmit Enable**
- **Direction**: MAC to PHY
- **Description**: 
  - This signal is asserted by the MAC to indicate that valid data is present on the **TxD[3:0]** lines.
  - When **Tx_EN** is high, the PHY will interpret the data on the TxD bus as valid and proceed to transmit it over the network medium.
  - When **Tx_EN** is low, the PHY ignores the data on the TxD bus and does not transmit.
  - This pin also indicates the start of a transmission, and it remains asserted as long as the MAC is transmitting data.

---

### 3. **TX_CLK – Transmit Clock**
- **Direction**: PHY to MAC
- **Description**: 
  - The **TX_CLK** signal is generated by the PHY and provided to the MAC to synchronize the transmission of data.
  - For **100 Mbps Ethernet**, this clock operates at **25 MHz**.
  - For **10 Mbps Ethernet**, the clock operates at **2.5 MHz**.
  - The MAC uses this clock to output data onto the **TxD[3:0]** bus at the appropriate rate for the PHY to transmit.

---

### 4. **RxD[3:0] – Receive Data [3:0]**
- **Direction**: PHY to MAC
- **Description**: 
  - This is a 4-bit data bus that carries received data from the PHY to the MAC.
  - The PHY decodes the incoming serial data from the network medium and places the corresponding parallel data on the **RxD[3:0]** lines for the MAC to process.
  - For **100 Mbps**, the data is clocked at 25 MHz, while for **10 Mbps**, the data is clocked at 2.5 MHz.

---

### 5. **RX_DV – Receive Data Valid**
- **Direction**: PHY to MAC
- **Description**: 
  - The **RX_DV** signal is asserted by the PHY to indicate that valid data is present on the **RxD[3:0]** lines.
  - When **RX_DV** is high, the MAC interprets the data on **RxD[3:0]** as part of a valid Ethernet frame.
  - When **RX_DV** is low, no valid data is present, and the MAC will ignore the **RxD[3:0]** signals.

---

### 6. **RX_CLK – Receive Clock**
- **Direction**: PHY to MAC
- **Description**: 
  - The **RX_CLK** signal is generated by the PHY and provided to the MAC to synchronize the reception of data.
  - It operates at **25 MHz** for 100 Mbps Ethernet and at **2.5 MHz** for 10 Mbps Ethernet.
  - The MAC uses this clock to read data from the **RxD[3:0]** bus at the appropriate rate.

---

### 7. **CRS – Carrier Sense**
- **Direction**: PHY to MAC
- **Description**: 
  - The **Carrier Sense (CRS)** signal is used in half-duplex mode to indicate when the PHY detects network activity on the medium.
  - CRS is asserted when the PHY detects a valid carrier signal on the network (either for transmission or reception), indicating that the medium is active.
  - This signal is particularly important in half-duplex Ethernet, where only one device can transmit at a time, and carrier sense ensures that the medium is not busy before transmission begins.

---

### 8. **COL – Collision Detect**
- **Direction**: PHY to MAC
- **Description**: 
  - The **Collision Detect (COL)** signal is asserted by the PHY when it detects a collision on the network medium, which occurs when two devices transmit simultaneously in half-duplex mode.
  - This is crucial in half-duplex Ethernet to detect and handle network collisions, ensuring proper retransmission of data.
  - The MAC uses this signal to initiate the backoff algorithm, delaying further transmissions after a collision is detected.

---

### 9. **MDC – Management Data Clock**
- **Direction**: MAC to PHY
- **Description**: 
  - **MDC** is the clock signal used for the **Management Data Input/Output (MDIO)** interface, which allows the MAC to communicate with the PHY for configuration and status monitoring.
  - The clock rate is typically much lower (up to 2.5 MHz) and is used in conjunction with the MDIO signal to access the PHY’s internal registers.
  - The MDC signal is generated by the MAC and controls the timing for the serial communication between the MAC and PHY.

---

### 10. **MDIO – Management Data Input/Output**
- **Direction**: Bi-directional (MAC ↔ PHY)
- **Description**: 
  - **MDIO** is the serial data line used for the management interface. The MAC uses this signal, along with the **MDC** clock, to read and write to the PHY’s internal registers.
  - This interface is used for PHY configuration, such as setting operating modes (speed, duplex) and reading status information (e.g., link status, errors).
  - The MDIO pin is bidirectional, meaning it can be used for both reading and writing data.

---

### 11. **RX_ER – Receive Error**
- **Direction**: PHY to MAC
- **Description**: 
  - **RX_ER** is asserted by the PHY to indicate that an error has been detected in the received data stream.
  - Errors may include issues such as frame alignment errors, CRC errors, or signal quality problems.
  - The MAC can use this signal to discard corrupted frames or take appropriate error-handling actions.

---

### 12. **TX_ER – Transmit Error**
- **Direction**: MAC to PHY
- **Description**: 
  - The **Transmit Error (TX_ER)** signal is asserted by the MAC when there is an error in the data being transmitted.
  - It could be used to signal problems like buffer underrun (when the MAC doesn’t have data ready to continue the transmission).
  - When **TX_ER** is asserted, the PHY may stop transmission or indicate an error condition on the network.

---

### 13. **Link Status (Optional)**
- **Direction**: PHY to MAC
- **Description**: 
  - Some implementations provide a dedicated **Link Status** signal to indicate whether the physical link is up or down.
  - If the PHY detects that the network medium is connected and operational (e.g., via auto-negotiation), this signal is asserted.
  - The MAC can use this signal to determine whether a valid network connection exists before attempting to transmit data.

---

### Summary of Key Features:
- **Synchronization**: Signals like **TX_CLK** and **RX_CLK** ensure the MAC and PHY are synchronized for both transmit and receive operations, particularly at 10 and 100 Mbps.
- **Control and Status**: Signals such as **Tx_EN**, **RX_DV**, and **COL** allow the MAC to control data transmission and reception while handling network conditions like collisions.
- **Error Handling**: Pins like **RX_ER** and **TX_ER** assist in error detection and correction, ensuring the integrity of data being transmitted or received.
- **Management Interface**: **MDC** and **MDIO** provide a serial interface to configure and monitor the PHY, enabling the MAC to control and obtain status from the PHY.

This detailed explanation of the MII pin configurations shows how each signal plays a critical role in the communication between the MAC and PHY layers, allowing for reliable Ethernet operation.
